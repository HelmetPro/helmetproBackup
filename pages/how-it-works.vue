<template>
  <div>
    <div class="hidden lg:flex flex-col text-center w-full mx-auto px-4 bg-gradient-to-r from-blue-300 to-teal-100 md:bg-gradient-to-r md:from-blue-300 md:to-teal-100 pb-52 lg:pb-20">
      <div class="p-5">
        <h1 class="lg:text-5xl font-bold text-white mt-10 md:text-indigo-600 mb-2">Walkthrough</h1>
        <h2 class="text-black text-center text-xl lg:text-3xl">How Our Helmet Cleaning Vending Machine Works </h2>
        <p class="info-text">
          Discover the innovative features and functionalities of our Helmet Cleaning Vending Machine.
        </p>
      </div>
      <div class="hidden lg:flex flex-col items-center justify-center py-2 lg:min-h-[80vh]">
        <div class="relative w-full max-w-xl md:max-w-3xl lg:max-w-7xl xl:max-w-8xl border-8 border-white rounded-lg shadow-lg overflow-hidden">
          <video
            src="https://utfs.io/f/txXKmXW6aEb8KQel80RXNn0EGXtSxRZ4WkULbiwYf3cVAOzo"
            controls
            autoplay
            loop
            muted
            loading="lazy"
            class="w-full h-full object-cover"
             aria-label="Helmet Cleaning Vending Machine walkthrough video"
          ></video>
        </div>
        <div class="flex justify-center items-center mt-8">
        <a 
          href="https://uzgcdn-nn.myshopify.com/products/helmet-cleaning-vending-machine-1" 
          target="_blank" 
          rel="noopener noreferrer" 
          class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-8 py-4 rounded-lg shadow-lg transition-transform transform hover:scale-105 flex items-center gap-4 animate-bounce"
        >
          <svg 
            version="1.1" 
            id="Layer_1" 
            x="0px" y="0px" 
            viewBox="0 0 122.9 107.5" 
            class="text-white w-6 h-6 lg:w-8 lg:h-8 motion-safe:animate-pulse">
            <g>
              <path 
                d="M3.9,7.9C1.8,7.9,0,6.1,0,3.9C0,1.8,1.8,0,3.9,0h10.2c0.1,0,0.3,0,0.4,0c3.6,0.1,6.8,0.8,9.5,2.5c3,1.9,5.2,4.8,6.4,9.1 c0,0.1,0,0.2,0.1,0.3l1,4H119c2.2,0,3.9,1.8,3.9,3.9c0,0.4-0.1,0.8-0.2,1.2l-10.2,41.1c-0.4,1.8-2,3-3.8,3v0H44.7 c1.4,5.2,2.8,8,4.7,9.3c2.3,1.5,6.3,1.6,13,1.5h0.1v0h45.2c2.2,0,3.9,1.8,3.9,3.9c0,2.2-1.8,3.9-3.9,3.9H62.5v0 c-8.3,0.1-13.4-0.1-17.5-2.8c-4.2-2.8-6.4-7.6-8.6-16.3l0,0L23,13.9c0-0.1,0-0.1-0.1-0.2c-0.6-2.2-1.6-3.7-3-4.5 c-1.4-0.9-3.3-1.3-5.5-1.3c-0.1,0-0.2,0-0.3,0H3.9L3.9,7.9z M96,88.3c5.3,0,9.6,4.3,9.6,9.6c0,5.3-4.3,9.6-9.6,9.6 c-5.3,0-9.6-4.3-9.6-9.6C86.4,92.6,90.7,88.3,96,88.3L96,88.3z M53.9,88.3c5.3,0,9.6,4.3,9.6,9.6c0,5.3-4.3,9.6-9.6,9.6 c-5.3,0-9.6-4.3-9.6-9.6C44.3,92.6,48.6,88.3,53.9,88.3L53.9,88.3z M33.7,23.7l8.9,33.5h63.1l8.3-33.5H33.7L33.7,23.7z" 
                fill="currentColor"
              />
            </g>
          </svg>
          <span class="text-lg lg:text-xl">Buy Now</span>
        </a>
      </div>
      <span class="text-gray-400 text-xs font-semibold block text-center  ">
        Shop directly from our official Shopify store, Enjoy a secure and convenient purchasing experience
      </span>
      </div>
    </div>

    <div class="block lg:hidden bg-gradient-to-r from-blue-300 to-teal-100 pb-10">
      <div class="flex flex-col  w-full mx-auto px-4">
        <h1 class="text-3xl lg:text-5xl font-bold text-indigo-700 mt-10 mb-2">Walkthrough</h1>
        <h2 class="text-black  text-xl lg:text-3xl">How Our Helmet Cleaning Vending Machine Works</h2>
        <p class="info-text">
          Discover the innovative features and functionalities of our Helmet Cleaning Vending Machine.
        </p>
        <NuxtLink 
              href="/contactUs" 
              class="text-orange-600 hover:text-orange-800  font-medium flex items-center text-md my-4  lg:mt-0">
              Contact us today for a free consultation!
              <svg 
                  fill="none" 
                  stroke="currentColor" 
                  stroke-linecap="round" 
                  stroke-linejoin="round" 
                  stroke-width="2" 
                  class="w-5 h-5 ml-2" 
                  viewBox="0 0 24 24"
              >
                  <path d="M7 17l10-10M17 17V7h-10" />
              </svg>
          </NuxtLink>
      </div>
      <div class="flex flex-col items-center justify-center">
        <div class="relative w-full h-[500px] border-2 rounded-lg shadow-lg overflow-hidden">
          <video
            src="https://utfs.io/f/txXKmXW6aEb8KQel80RXNn0EGXtSxRZ4WkULbiwYf3cVAOzo"
            controls
            autoplay
            loop
            muted
            loading="lazy"
            class="w-full h-full object-contain bg-black"
             aria-label="Helmet Cleaning Vending Machine walkthrough video"
          ></video>
        </div>
        <div class="flex justify-center items-center mt-8">
        <a 
          href="https://uzgcdn-nn.myshopify.com/products/helmet-cleaning-vending-machine-1" 
          target="_blank" 
          rel="noopener noreferrer" 
          class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-8 py-4 rounded-lg shadow-lg transition-transform transform hover:scale-105 flex items-center gap-4 animate-bounce"
        >
          <svg 
            version="1.1" 
            id="Layer_1" 
            x="0px" y="0px" 
            viewBox="0 0 122.9 107.5" 
            class="text-white w-6 h-6 lg:w-8 lg:h-8 motion-safe:animate-pulse">
            <g>
              <path 
                d="M3.9,7.9C1.8,7.9,0,6.1,0,3.9C0,1.8,1.8,0,3.9,0h10.2c0.1,0,0.3,0,0.4,0c3.6,0.1,6.8,0.8,9.5,2.5c3,1.9,5.2,4.8,6.4,9.1 c0,0.1,0,0.2,0.1,0.3l1,4H119c2.2,0,3.9,1.8,3.9,3.9c0,0.4-0.1,0.8-0.2,1.2l-10.2,41.1c-0.4,1.8-2,3-3.8,3v0H44.7 c1.4,5.2,2.8,8,4.7,9.3c2.3,1.5,6.3,1.6,13,1.5h0.1v0h45.2c2.2,0,3.9,1.8,3.9,3.9c0,2.2-1.8,3.9-3.9,3.9H62.5v0 c-8.3,0.1-13.4-0.1-17.5-2.8c-4.2-2.8-6.4-7.6-8.6-16.3l0,0L23,13.9c0-0.1,0-0.1-0.1-0.2c-0.6-2.2-1.6-3.7-3-4.5 c-1.4-0.9-3.3-1.3-5.5-1.3c-0.1,0-0.2,0-0.3,0H3.9L3.9,7.9z M96,88.3c5.3,0,9.6,4.3,9.6,9.6c0,5.3-4.3,9.6-9.6,9.6 c-5.3,0-9.6-4.3-9.6-9.6C86.4,92.6,90.7,88.3,96,88.3L96,88.3z M53.9,88.3c5.3,0,9.6,4.3,9.6,9.6c0,5.3-4.3,9.6-9.6,9.6 c-5.3,0-9.6-4.3-9.6-9.6C44.3,92.6,48.6,88.3,53.9,88.3L53.9,88.3z M33.7,23.7l8.9,33.5h63.1l8.3-33.5H33.7L33.7,23.7z" 
                fill="currentColor"
              />
            </g>
          </svg>
          <span class="text-lg lg:text-xl">Buy Now</span>
        </a>
      </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { onMounted, onUnmounted } from 'vue';
import { useRoute } from 'vue-router'
const route = useRoute()

useHead({
  title: 'How HelmetPro Helmet Cleaning Vending Machines Works',
  meta: [
    {
      hid: 'description',
      name: 'description',
      content: route.name === 'how-it-works'
        ? 'Discover how HelmetProâ€™s automated helmet cleaning vending machines provide a convenient, hygienic solution for helmet maintenance.'
        : 'Learn more about how our innovative helmet cleaning vending machines work and benefit your customers.',
    },
    { 
      hid: 'keywords', 
      name: 'keywords', 
      content: 'HelmetPro, how HelmetPro works, How helmet cleaning works, How helmet vending machine works,How automated helmet cleaning works, helmet hygiene, maintenance solution, convenience' 
    }
  ],
})
// Define page metadata
definePageMeta({
  layout: 'custom-layout',
  name: 'How it Works',
  head: {
    middleware: 'canonical',
    link: [
    {
      rel: 'preload',
      href: 'https://utfs.io/f/txXKmXW6aEb8KQel80RXNn0EGXtSxRZ4WkULbiwYf3cVAOzo',
      as: 'video'
    },
  ],
    script: [
      {
        type: 'application/ld+json',
        innerHTML: JSON.stringify({
          "@context": "https://schema.org",
          "@type": "WebPage",
          "name": "How Our Helmet Cleaning Vending Machine Works",
          "description": "Explore how the HelmetPro Cleaning Vending Machine operates.",
          "url": "https://www.helmetprosolutions.com/how-it-works",
          "video": {
            "@type": "VideoObject",
            "name": "How to Use the HelmetPro Cleaning Vending Machine",
            "description": "A step-by-step guide on using the HelmetPro Cleaning Vending Machine, featuring efficient helmet sanitization.",
            "thumbnailUrl": "https://www.helmetprosolutions.com/thumbnailvideo.png", // Add your thumbnail URL here
            "contentUrl": "https://utfs.io/f/txXKmXW6aEb8KQel80RXNn0EGXtSxRZ4WkULbiwYf3cVAOzo",
            "embedUrl": "https://utfs.io/f/txXKmXW6aEb8KQel80RXNn0EGXtSxRZ4WkULbiwYf3cVAOzo", // Optional: point to a watch page
            "duration": "PT2M33S", // Example duration; update accordingly
            "uploadDate": "2024-11-05", // Update with the actual upload date
            "publisher": {
              "@type": "Organization",
              "name": "HelmetPro",
              "logo": {
                "@type": "ImageObject",
                "url": "https://utfs.io/f/txXKmXW6aEb8XoHIV4a9EQr5A7M6kZeuFyciCDqzg1nIBRaP"
              }
            }
          }
        }),
      },
      {
        type: 'application/ld+json',
        innerHTML: JSON.stringify({
          "@context": "https://schema.org",
          "@type": "Organization",
          "name": "HelmetPro",
          "url": "https://www.helmetprosolutions.com",
          "logo": "https://utfs.io/f/txXKmXW6aEb8XoHIV4a9EQr5A7M6kZeuFyciCDqzg1nIBRaP",
          "description": "HelmetPro provides state-of-the-art helmet cleaning vending machines and dedicated support for business growth.",
          "sameAs": [
            "https://www.facebook.com/helmetprosolutions",
            "https://www.instagram.com/helmetpro_vendo"
          ],
          "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+63-962-753-3915",
            "contactType": "Sales",
            "areaServed": "PH",
            "availableLanguage": "English"
          }
        }),
      }
    ]
  }
});

let scrollTimeout;
const handleScroll = () => {
  clearTimeout(scrollTimeout);
  scrollTimeout = setTimeout(() => {
    const videos = document.querySelectorAll('video');
    videos.forEach(video => {
      if (!video.paused) {
        video.pause();
      }
    });
  }, 200); // adjust delay as needed
};

// // Pause videos on scroll
// const handleScroll = () => {
//   const videos = document.querySelectorAll('video');
//   videos.forEach(video => {
//     if (!video.paused) {
//       video.pause();
//     }
//   });
// };

onMounted(() => {
  window.addEventListener('scroll', handleScroll);
});

onUnmounted(() => {
  window.removeEventListener('scroll', handleScroll);
});
</script>

<style scoped>
/* Additional scoped styles can go here if needed */
</style>
